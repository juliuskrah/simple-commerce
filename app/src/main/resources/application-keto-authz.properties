# Keto Authorization Configuration
# This profile enables Ory Keto integration for ReBAC authorization

# Keto gRPC Client Configuration
keto.host=localhost
keto.read-port=4466
keto.write-port=4467
keto.use-plaintext=true

# Enable AspectJ weaving for authorization aspects
spring.aop.proxy-target-class=true

# Logging configuration for authorization
logging.level.com.simplecommerce.shared.authorization=DEBUG
logging.level.sh.ory.keto=DEBUG

# DexIDP Authentication Configuration
dex.host=localhost
dex.grpc-port=5557
dex.use-plaintext=true
dex.issuer=http://127.0.0.1:5556/dex

# Security configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${dex.issuer}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:5556/dex/keys